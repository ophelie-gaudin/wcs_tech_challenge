{"ast":null,"code":"var _jsxFileName = \"/home/ophelie/Desktop/dev/tech_challenge_wcs_client/src/App.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport CandidateItem from \"./components/CandidateItem\";\nimport AddCandidate from \"./components/AddCandidate\";\nimport { getCandidates, addCandidate, // updateCandidate,\ndeleteCandidate } from \"./API\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const [candidates, setCandidates] = useState([]);\n  useEffect(() => {\n    fetchCandidates();\n  }, []);\n\n  const fetchCandidates = () => {\n    getCandidates().then(_ref => {\n      let {\n        data: {\n          candidates\n        }\n      } = _ref;\n      return setCandidates(candidates);\n    }).catch(err => console.log(err));\n  };\n\n  const handleSaveCandidate = (e, formData) => {\n    e.preventDefault();\n    addCandidate(formData).then(_ref2 => {\n      let {\n        status,\n        data\n      } = _ref2;\n\n      if (status !== 201) {\n        throw new Error(\"Error! Candidate not saved\");\n      }\n\n      setCandidates(data.candidates);\n    }).catch(err => console.log(err));\n  }; // const handleUpdateCandidate = (candidate: ICandidate): void => {\n  //   updateCandidate(candidate)\n  //     .then(({ status, data }) => {\n  //       if (status !== 200) {\n  //         throw new Error(\"Error! Candidate not updated\");\n  //       }\n  //       setCandidates(data.candidates);\n  //     })\n  //     .catch((err) => console.log(err));\n  // };\n\n\n  const handleDeleteCandidate = _id => {\n    deleteCandidate(_id).then(_ref3 => {\n      let {\n        status,\n        data\n      } = _ref3;\n\n      if (status !== 200) {\n        throw new Error(\"Error! Candidate not deleted\");\n      }\n\n      setCandidates(data.candidates);\n    }).catch(err => console.log(err));\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"https://www.wildcodeschool.com/assets/logo_main-e4f3f744c8e717f1b7df3858dce55a86c63d4766d5d9a7f454250145f097c2fe.png\",\n          alt: \"Wild Code School logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), \"Les Argonautes\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"My Candidates\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AddCandidate, {\n        saveCandidate: handleSaveCandidate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), candidates.map(candidate => /*#__PURE__*/_jsxDEV(CandidateItem, {\n        // updateCandidate={handleUpdateCandidate}\n        deleteCandidate: handleDeleteCandidate,\n        candidate: candidate\n      }, candidate._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"R\\xE9alis\\xE9 par Jason en Anthest\\xE9rion de l'an 515 avant JC\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(App, \"W8xvQL2/gnd29ogq8r5xz5rSiCY=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","CandidateItem","AddCandidate","getCandidates","addCandidate","deleteCandidate","App","candidates","setCandidates","fetchCandidates","then","data","catch","err","console","log","handleSaveCandidate","e","formData","preventDefault","status","Error","handleDeleteCandidate","_id","map","candidate"],"sources":["/home/ophelie/Desktop/dev/tech_challenge_wcs_client/src/App.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport CandidateItem from \"./components/CandidateItem\";\nimport AddCandidate from \"./components/AddCandidate\";\nimport {\n  getCandidates,\n  addCandidate,\n  // updateCandidate,\n  deleteCandidate,\n} from \"./API\";\n\nconst App: React.FC = () => {\n  const [candidates, setCandidates] = useState<ICandidate[]>([]);\n\n  useEffect(() => {\n    fetchCandidates();\n  }, []);\n\n  const fetchCandidates = (): void => {\n    getCandidates()\n      .then(({ data: { candidates } }: ICandidate[] | any) =>\n        setCandidates(candidates)\n      )\n      .catch((err: Error) => console.log(err));\n  };\n\n  const handleSaveCandidate = (\n    e: React.FormEvent,\n    formData: ICandidate\n  ): void => {\n    e.preventDefault();\n    addCandidate(formData)\n      .then(({ status, data }) => {\n        if (status !== 201) {\n          throw new Error(\"Error! Candidate not saved\");\n        }\n        setCandidates(data.candidates);\n      })\n      .catch((err) => console.log(err));\n  };\n\n  // const handleUpdateCandidate = (candidate: ICandidate): void => {\n  //   updateCandidate(candidate)\n  //     .then(({ status, data }) => {\n  //       if (status !== 200) {\n  //         throw new Error(\"Error! Candidate not updated\");\n  //       }\n  //       setCandidates(data.candidates);\n  //     })\n  //     .catch((err) => console.log(err));\n  // };\n\n  const handleDeleteCandidate = (_id: string): void => {\n    deleteCandidate(_id)\n      .then(({ status, data }) => {\n        if (status !== 200) {\n          throw new Error(\"Error! Candidate not deleted\");\n        }\n        setCandidates(data.candidates);\n      })\n      .catch((err) => console.log(err));\n  };\n  return (\n    <>\n      {/* Header section */}\n      <header>\n        <h1>\n          <img\n            src=\"https://www.wildcodeschool.com/assets/logo_main-e4f3f744c8e717f1b7df3858dce55a86c63d4766d5d9a7f454250145f097c2fe.png\"\n            alt=\"Wild Code School logo\"\n          />\n          Les Argonautes\n        </h1>\n      </header>\n\n      {/* <!-- Main section --> */}\n      <main className=\"App\">\n        <h1>My Candidates</h1>\n\n        {/* <!-- New member form --> */}\n        <AddCandidate saveCandidate={handleSaveCandidate} />\n\n        {/* <!-- Member list --> */}\n\n        {candidates.map((candidate: ICandidate) => (\n          <CandidateItem\n            key={candidate._id}\n            // updateCandidate={handleUpdateCandidate}\n            deleteCandidate={handleDeleteCandidate}\n            candidate={candidate}\n          />\n        ))}\n      </main>\n\n      <footer>\n        <p>Réalisé par Jason en Anthestérion de l'an 515 avant JC</p>\n      </footer>\n    </>\n  );\n};\n\nexport default App;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,aAAP,MAA0B,4BAA1B;AACA,OAAOC,YAAP,MAAyB,2BAAzB;AACA,SACEC,aADF,EAEEC,YAFF,EAGE;AACAC,eAJF,QAKO,OALP;;;;AAOA,MAAMC,GAAa,GAAG,MAAM;EAAA;;EAC1B,MAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BR,QAAQ,CAAe,EAAf,CAA5C;EAEAD,SAAS,CAAC,MAAM;IACdU,eAAe;EAChB,CAFQ,EAEN,EAFM,CAAT;;EAIA,MAAMA,eAAe,GAAG,MAAY;IAClCN,aAAa,GACVO,IADH,CACQ;MAAA,IAAC;QAAEC,IAAI,EAAE;UAAEJ;QAAF;MAAR,CAAD;MAAA,OACJC,aAAa,CAACD,UAAD,CADT;IAAA,CADR,EAIGK,KAJH,CAIUC,GAAD,IAAgBC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAJzB;EAKD,CAND;;EAQA,MAAMG,mBAAmB,GAAG,CAC1BC,CAD0B,EAE1BC,QAF0B,KAGjB;IACTD,CAAC,CAACE,cAAF;IACAf,YAAY,CAACc,QAAD,CAAZ,CACGR,IADH,CACQ,SAAsB;MAAA,IAArB;QAAEU,MAAF;QAAUT;MAAV,CAAqB;;MAC1B,IAAIS,MAAM,KAAK,GAAf,EAAoB;QAClB,MAAM,IAAIC,KAAJ,CAAU,4BAAV,CAAN;MACD;;MACDb,aAAa,CAACG,IAAI,CAACJ,UAAN,CAAb;IACD,CANH,EAOGK,KAPH,CAOUC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAPlB;EAQD,CAbD,CAf0B,CA8B1B;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;;EAEA,MAAMS,qBAAqB,GAAIC,GAAD,IAAuB;IACnDlB,eAAe,CAACkB,GAAD,CAAf,CACGb,IADH,CACQ,SAAsB;MAAA,IAArB;QAAEU,MAAF;QAAUT;MAAV,CAAqB;;MAC1B,IAAIS,MAAM,KAAK,GAAf,EAAoB;QAClB,MAAM,IAAIC,KAAJ,CAAU,8BAAV,CAAN;MACD;;MACDb,aAAa,CAACG,IAAI,CAACJ,UAAN,CAAb;IACD,CANH,EAOGK,KAPH,CAOUC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAPlB;EAQD,CATD;;EAUA,oBACE;IAAA,wBAEE;MAAA,uBACE;QAAA,wBACE;UACE,GAAG,EAAC,sHADN;UAEE,GAAG,EAAC;QAFN;UAAA;UAAA;UAAA;QAAA,QADF;MAAA;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QAFF,eAaE;MAAM,SAAS,EAAC,KAAhB;MAAA,wBACE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAIE,QAAC,YAAD;QAAc,aAAa,EAAEG;MAA7B;QAAA;QAAA;QAAA;MAAA,QAJF,EAQGT,UAAU,CAACiB,GAAX,CAAgBC,SAAD,iBACd,QAAC,aAAD;QAEE;QACA,eAAe,EAAEH,qBAHnB;QAIE,SAAS,EAAEG;MAJb,GACOA,SAAS,CAACF,GADjB;QAAA;QAAA;QAAA;MAAA,QADD,CARH;IAAA;MAAA;MAAA;MAAA;IAAA,QAbF,eA+BE;MAAA,uBACE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QA/BF;EAAA,gBADF;AAqCD,CAxFD;;GAAMjB,G;;KAAAA,G;AA0FN,eAAeA,GAAf"},"metadata":{},"sourceType":"module"}